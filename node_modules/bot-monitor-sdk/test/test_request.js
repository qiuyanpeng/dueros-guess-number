require("should");

let assert = require('assert');

let Request = require('../lib/Request');
let reqData = require('../data/intent_request_tax');

describe('IntentRequest', () => {
    let request = new Request(reqData);

    describe('#getData()', function() {
        it('data must be not null', function() {
            request.getData().should.not.equal(null);
        });
    });

    describe('#getType()', function() {
        it('launch request type must be intentRequest', function() {
            request.getType().should.equal('IntentRequest');
        });
    });

    describe('#getUserId()', () => {
        it('get user id must be 55188137', () => {
            request.getUserId().should.equal('55188137');
        });
    });

    describe('#getQuery()', () => {
        it('get query must be 查个税', () => {
            request.getQuery().should.equal('查个税');
        });
    });

    describe('#getBotId()', () => {
        it('getBotId must be 5ab85a14-29e0-6532-7f56-0b53c1e0d70b', () => {
            request.getBotId().should.equal('5ab85a14-29e0-6532-7f56-0b53c1e0d70b');
        });
    });

    describe('#getRequestId()', () => {
        it('getRequestId must be cf9e4558cb664ed0993a4f3f5662efb7_1', () => {
            request.getRequestId().should.equal('cf9e4558cb664ed0993a4f3f5662efb7_1');
        });
    });

    describe('#getReason()', () => {
        it('getReason must be USER_INITIATED', () => {
            request.getReason().should.equal('USER_INITIATED');
        });
    });

    describe('#getIntentName()', () => {
        it('getIntentName must be inquiry', () => {
            request.getIntentName().should.equal('inquiry');
        });
    });

    describe('#getSessionId()', () => {
        it('getSessionId must be sessionId', () => {
            request.getSessionId().should.equal('sessionId');
        });
    });

    describe('#getDeviceId()', () => {
        it('getDeviceId must be deviceIdreal', () => {
            request.getDeviceId().should.equal('deviceIdreal');
        });
    });

    describe('#getLocation()', () => {
        var location = {
            "bd09ll": {
                "longitude": 116.41650585765,
                "latitude": 39.922589823265
            },
            "wgs84": {
                "longitude": 116.40387397,
                "latitude": 39.91488908
            },
            "bd09mc": {
                "longitude": 12959567.403034,
                "latitude": 4827021.8235075
            }
        };
        it('getLocation must be location', () => {
            request.getLocation().should.deepEqual(location);
        });
    });

    describe('#isDialogStateCompleted()', () => {
        it('isDialogStateCompleted must be true', () => {
            request.isDialogStateCompleted().should.be.true();
        });
    });

});
